(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9305],{63:(e,s,r)=>{"use strict";var t=r(7260);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},854:(e,s,r)=>{"use strict";r.d(s,{A:()=>n});var t=r(6489);function n(){var e,s;let{data:r,status:n,update:a}=(0,t.useSession)();return{user:null==r?void 0:r.user,session:r,status:n,isAuthenticated:!!r,isLoading:"loading"===n,hasError:!!(null==r?void 0:r.error),signIn:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/dashboard";return(0,t.signIn)("google",{callbackUrl:e})},signOut:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return(0,t.signOut)({callbackUrl:e})},updateSession:a,userId:null==r||null==(e=r.user)?void 0:e.id,userRole:null==r||null==(s=r.user)?void 0:s.role,accessToken:null==r?void 0:r.accessToken}}},4391:(e,s,r)=>{Promise.resolve().then(r.bind(r,9193))},9193:(e,s,r)=>{"use strict";r.d(s,{ProtectedRoute:()=>u});var t=r(5155),n=r(854),a=r(63),i=r(2115);function u(e){let{children:s,requiredRole:r,fallbackPath:u="/login"}=e,{isAuthenticated:c,isLoading:l,userRole:d}=(0,n.A)(),o=(0,a.useRouter)(),h=(0,a.usePathname)();return((0,i.useEffect)(()=>{if(!l&&!c){let e=encodeURIComponent(h);o.push("".concat(u,"?callbackUrl=").concat(e))}!l&&c&&r&&d!==r&&o.push("/unauthorized")},[c,l,d,r,o,h,u]),l)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Checking authentication..."})]})}):c?r&&d!==r?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-red-600 text-xl mb-4",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access this page."})]})}):(0,t.jsx)(t.Fragment,{children:s}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Redirecting to login..."})]})})}}},e=>{e.O(0,[6489,8441,1255,7358],()=>e(e.s=4391)),_N_E=e.O()}]);